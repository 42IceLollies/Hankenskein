<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Level 4</title>
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="nonComicLevel.css">
	<link rel="stylesheet" href="../nonLevelPages/settings.css">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Raleway:wght@100&family=Ysabeau:wght@1&display=swap" rel="stylesheet">

	<!-- favicon -->
	<link rel="shortcut icon" href="../Art/hankenskein_favicon.ico" type="image/x-icon">
	<link rel="icon" href="../Art/hankenskein_favicon.ico" type="image/x-icon">
</head>
<body>

<canvas id='canvas' width='1000' height='500'></canvas>
<audio src="../Art/mainHankenskeinTheme.mp3" id="mainTheme"></audio>


<script language="javascript" src="../graphics/environmentMain.js"></script>
<script language="javascript" src="../nonLevelPages/settings.js"> </script>
<script language="javascript" src="../classes.js"></script>

<script type="text/javascript">
	setTimeout(() => {
		let backgroundPath = "../Art/Backgrounds/levelFourBackground.png";
		let linePoints = [[[0,498],[3250,498]],[[3250,498],[3250,0]], [[0,0],[0,498]],
        //shelf at beginning
        [[0, 157], [174, 161]], [[174, 161], [177, 188]], [[177, 188], [88, 188]], [[88, 189], [91, 210]], [[91, 210], [85, 221]], [[85, 221], [85, 237]], [[85, 237], [101, 242]], 
        [[101, 242], [99, 271]], [[99, 271], [80, 281]], [[80, 281], [60, 271]], [[60, 271], [60, 255]], [[60, 255], [67, 239]], [[67, 239], [78, 241]], [[78, 241], [76, 221]], [[76, 221], [66, 210]], [[66, 210], [77, 203]], [[77, 203], [83, 206]], [[83, 206], [81, 186]], [[81, 186], [2, 189]], 
        //toilet
        [[555, 214], [303, 216]], [[303, 216], [303, 245]], [[301, 245], [319, 251]], [[319, 251], [319, 347]], [[318, 347], [339, 370]], [[339, 370], [328, 407]], [[329, 407], [329, 437]], [[329, 437], [373, 489]], [[374, 489], [374, 502]], [[374, 502], [502, 504]], [[502, 504], [502, 485]], 
        [[507, 485], [541, 437]], [[541, 437], [549, 381]], [[549, 381], [522, 346]], [[522, 346], [534, 328]], [[534, 328], [542, 244]], [[542, 244], [558, 242]], [[558, 242], [558, 218]], [[354, 261], [304, 268]], [[304, 268],
         [304, 274]], [[304, 274], [329, 271]], [[329, 271], [336, 280]], [[336, 280], [358, 279]], [[358, 279], [364, 266]], [[475, 159], [475, 212]], [[475, 212], [546, 211]], [[546, 211], [554, 195]], [[554, 195], [537, 195]],
         [[537, 195], [537, 169]], [[537, 169], [527, 169]], [[527, 169], [527, 156]], [[525, 156], [485, 148]], [[485, 148], [476, 160]], 
         //towell
         [[632, 65], [634, 78]], [[634, 78], [647, 83]], [[647, 83], [655, 77]], [[655, 77], [672, 77]], [[672, 77], [678, 213]], [[678, 213], [819, 201]], [[819, 201], [818, 157]], [[818, 157], [822, 117]], [[822, 117], [812, 73]], [[812, 73], [884, 77]], [[884, 77], 
         [890, 61]], [[890, 61], [873, 50]], [[873, 50], [863, 59]], [[863, 59], [800, 61]], [[800, 61], [788, 49]], [[788, 49], [683, 54]], [[683, 54], [674, 64]], [[674, 64], [655, 66]], [[655, 66], [641, 57]], [[641, 57], [628, 71]], 
         //sink
         [[989, 237], [988, 503]], [[988, 503], [1383, 499]], [[1384, 499], [1384, 237]], [[1384, 237], [1243, 231]], [[1243, 231], [1211, 271]], [[1211, 271], [1189, 286]], [[1189, 286], [1163, 287]], [[1163, 287], [1143, 274]],
          [[1143, 274], [1114, 235]], [[1114, 235], [990, 237]], [[990, 237], [990, 502]], [[989, 502], [1377, 503]], [[1380, 503], [1380, 239]], [[1197, 166], [1179, 165]], [[1179, 165], [1179, 117]], [[1179, 117], [1179, 112]], [[1187, 112], [1196, 120]], [[1198, 120], [1198, 162]], 
          //tub
          [[1610, 262], [1638, 299]], [[1638, 299], [1672, 450]], [[1672, 450], [1681, 466]], [[1681, 466], [1696, 470]], [[1696, 470], [1695, 484]], [[1695, 484], [1674, 485]], [[1674, 485], [1666, 501]], [[1666, 501], [1722, 504]], [[1722, 504], [1717, 473]], [[1717, 473], [2302, 468]],
           [[2302, 468], [2292, 502]], [[2292, 502], [2359, 501]], [[2359, 501], [2338, 480]], [[2338, 480], [2322, 484]], [[2322, 484], [2322, 464]], [[2322, 464], [2353, 443]], [[2353, 443], [2363, 400]], [[2363, 400], [2394, 330]], [[2394, 330], [2430, 271]], [[2430, 271], [2428, 264]],
         [[1658, 255], [1659, 231]], [[1659, 231], [1691, 222]], [[1691, 222], [1695, 237]], [[1695, 237], [1714, 233]], [[1714, 233], [1704, 209]], [[1704, 209], [1645, 217]], [[1645, 217], [1640, 223]], [[1640, 223], [1640, 255]], [[1640, 255], [1612, 255]], [[1612, 255], [1614, 269]], 
         [[1682, 473], [1718, 477]],  [[2304, 474], [2324, 471]], 
         //soap
         [[1821, 178], [1821, 187]], [[1821, 187], [1885, 186]], [[1885, 186], [1887, 180]], [[1887, 180], [1876, 179]], [[1876, 179], [1876, 161]], [[1876, 161], [1839, 168]], [[1839, 168], [1841, 181]], [[1841, 181], [1821, 181]], 
         //painting
         [[3058, 26], [3056, 155]], [[3056, 155], [3170, 154]], [[3170, 154], [3167, 24]], [[3167, 24], [3059, 24]],
         //ending shelf
         [[2975, 204], [2975, 229]], [[2975, 229], [3245, 227]], [[3245, 227], [3247, 197]], [[3247, 197], [2976, 205]], 
        ];
		setup(linePoints, backgroundPath);
	}, 0);


	//function to set the level in game object
	function setLevel()
	{
		game.level = 4;
		//also need ot make this realistic but idk what it is rn and gtg
		game.levelEndPoint = -3150;
        game.levelEndY = 490;
        console.log('level4');
	}

</script>


  <!-- Tells user to click screen in order to start music -->
  <div id="musicInstruction">Click to start music</div>

  <!-- hides above div when screen has been clicked -->
  <script>
      document.addEventListener("mousedown", (e)=>{document.getElementById("musicInstruction").classList.add("hidden")});
      //also turned off if music is not on after music has been set gotten from localStorage
  </script>


    <!-- START OF SETTINGS -->    
    <!-- settings div - hidden until 'settings' is chosen -->

   <!-- pause and play buttons are at top of level screen instead of just home and settings -->
   <div id="pauseAndPlay" class="container">
    <button id="playBtn" class="pauseAndPlay settingsBtn level hidden" onclick="playGame()"><img class="pauseAndPlay settingsImg" src="../Art/play.png" alt="Play"></button>
    <button id="pauseBtn" class="pauseAndPlay settingsBtn level" onclick="pauseGame()"><img src="../Art/pause.png" class="pauseAndPlay settingsImg" alt="Pause"></button>
    <button class="pauseAndPlay settingsBtn level" onclick="toggleDiv('instructions', 'settings')"><img src="../Art/instructions.png" class="pauseAndPlay settingsImg" alt="instructions"></button>
   

    <!-- Home and settings buttons are hidden until pause is selected -->
    <!-- On level  -->
        <button class="pauseAndPlay settingsBtn level hiddenBtns hidden"  onClick="window.location.assign('../nonLevelPages/mainmenu.html')"><img src="../Art/homeBtn.png" alt="Home" class="settingsImg"></button>
        <button class="pauseAndPlay settingsBtn level hiddenBtns hidden"  onclick="toggleDiv('settings', 'instructions');"><img src="../Art/settingsBtn.png" alt="Settings" class="settingsImg"></button>

    </div>

    <!-- overlays screen when game is paused to dim it out -->
    <div id="pauseDiv" class="hidden"></div>

    <div id="settings" class="hidden">
        <div class="xButton" onclick="document.getElementById('settings').classList.add('hidden')">X</div>
        <div class="spacerDiv"></div>
        <div class="soundSetting">
            <div class="setSelection noBorder">Music</div> 
            <div class="setSelection hand" id="musicOn" onclick="toggleMusic('on', true); bold('music');">ON</div>
            <div class="setSelection hand" id="musicOff" onclick="toggleMusic('off', true); bold('music');">OFF</div>
        </div>
        <div class="soundSetting">
             <div class="setSelection noBorder">Sfx</div>
             <div class="setSelection hand" id="sfxOn" onclick="toggleSfx('on', true); bold('sfx');">ON</div>
             <div class="setSelection hand" id="sfxOff" onclick="toggleSfx('off', true); bold('sfx');">OFF</div>
        </div>
        <div class="colorSetting">
            <div class="setSelection noBorder">Color?</div>
            <!-- will eventually have small pictures of colors but may just comment this out if I don't get it working before competition -->
                <!-- it's mostly because I feel like there needs to be something else to fill the settings box -->
                <!-- Divs with X inside show up when selected to indicate current color -->
                <div class="setSelection colorSelection hand level" style="background-color:gray" onclick="setPlayerColor('grey'); bold('color')"> <div id="greyX" class="hidden selectX">X</div></div>  
                <div class="setSelection colorSelection hand level" style="background-color:blue" onclick="setPlayerColor('blue'); bold('color')" > <div id="blueX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:purple" onclick="setPlayerColor('purple'); bold('color')"> <div id="purpleX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:red" onclick="setPlayerColor('red'); bold('color')"> <div id="redX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:green" onclick="setPlayerColor('green'); bold('color')"> <div id="greenX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:orange" onclick="setPlayerColor('orange'); bold('color')"> <div id="orangeX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color: hotpink" onclick="setPlayerColor('pink'); bold('color')"> <div id="pinkX" class="hidden selectX">X</div></div>
        </div>
    </div>

    <!-- END OF SETTINGS -->

       <!-- INSTRUCTIONS DIV-->
       <div id="instructions" class="hidden">
        <div class="xButton" onclick="document.getElementById('instructions').classList.add('hidden')">X</div>
        <div class="mainInstructions"><h1>Maneuver around the obstacles to reach the yellow circle and help Hank leave the house.</h1></div>
        <div>
            <div class="sectionTitle" style="width:20%"><h1>Rolling</h1>
                <div class="instruction"> <div class="key">A</div><div class="key">D</div></div>
                <div class="instruction"><div class="key">←</div> <div class="key">→</div></div>
            </div>

            <div class="sectionTitle" style="width:60%;  margin-bottom:0"><h1>Using Lasso</h1>
                <div class="header"><p style="font-size:150%">To Aim:</p>
                     <div class="instruction"><div class="key">W</div> <div class="key">S</div></div>
                    <div class="instruction"><div class="key">↑</div> <div class="key">↓</div></div>
                </div>

                <div class="header"><p style="font-size:150%">To Throw:</p>
                    <div class="instruction key notSquare">[Space]</div>
                </div>

                <div class="header"><p style="font-size:150%">To Pull In:</p>
                    <div class="instruction key notSquare">[Space]</div>
                </div>

                <div class="header"><p style="font-size:150%">To Clear:</p>
                    <div class="instruction key notSquare">[Backspace]</div>
                </div>
            </div>

    </div>

    <!-- END OF INSTRUCTIONS -->

</body>
</html>