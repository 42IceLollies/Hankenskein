<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Level 2</title>
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="comicLevel.css">
	<link rel="stylesheet" href="../nonLevelPages/settings.css">
	<!-- fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Raleway:wght@100&family=Ysabeau:wght@1&display=swap" rel="stylesheet">
	<!-- favicon -->
	<link rel="shortcut icon" href="../Art/hankenskein_favicon.ico" type="image/x-icon">
	<link rel="icon" href="../Art/hankenskein_favicon.ico" type="image/x-icon">
</head>
<body>

<canvas id='canvas' width='1000' height='500'></canvas>
<audio src="../Art/mainHankenskeinTheme.mp3" id="mainTheme"></audio>
<audio src="../Art/woosh.mp3" id='woosh'></audio>

<script language="javascript" src="../classes.js"></script>
<script language="javascript" src='../graphics/environmentMain.js'></script>
<script language="javascript" src="../nonLevelPages/settings.js"> </script>

<script type="text/javascript">
	setTimeout(() => {
		let backgroundPath = "../Art/Backgrounds/levelTwoBackground.png";
		// the outside edges
		let linePoints = [[[0, -500], [0, 499]], [[0, 499], [2851, 500]], [[2851, 500], [2851, -500]],
		// rolled up blinds 1
		[[59, 152], [57, 181]], [[57, 181], [63, 187]], [[63, 187], [64, 211]], [[64, 211], [158, 208]], [[158, 208], [160, 247]], [[160, 247], [167, 247]], [[167, 247], [166, 212]], [[166, 212], [270, 208]], [[270, 208], [268, 185]], [[268, 185], [276, 179]], [[276, 179], [275, 151]], [[275, 151], [59, 152]],
		// rolled up blinds 2
		[[393, 151], [394, 179]], [[393, 179], [397, 182]], [[397, 182], [397, 220]], [[397, 220], [500, 223]], [[500, 223], [500, 265]], [[500, 265], [507, 262]], [[507, 262], [507, 225]], [[507, 225], [598, 223]], [[598, 223], [598, 175]], [[598, 175], [600, 149]], [[600, 149], [393, 151]],
		[[160, 239], [153, 251]], [[153, 251], [165, 260]], [[165, 260], [176, 248]], [[176, 248], [167, 239]], // pull cord end 1
		[[505, 265], [496, 271]], [[496, 271], [506, 279]], [[506, 279], [517, 269]], [[517, 269], [507, 262]], // pull cord end 2
		// table
		[[796, 500], [796, 377]], [[794, 377], [780, 373]], [[780, 373], [771, 365]], [[771, 365], [746, 356]], [[746, 356], [746, 346]], [[746, 346], [1439, 345]], [[1439, 345], [1438, 356]], [[1438, 356], [1414, 365]], [[1414, 365], [1397, 372]], [[1397, 372], [1397, 500]],
		// [[820, 343], [815, 222]], [[815, 222], [969, 215]], [[969, 215], [971, 342]], // chair back 1
		[[1007, 342], [962, 305]], [[962, 305], [1169, 300]], [[1169, 300], [1131, 340]], [[1131, 340], [1117, 341]], // fruit bowl
			// chandelier
			[[1088, 2], [1048, 64]], [[1048, 64], [1018, 70]], [[1018, 70], [1014, 85]], [[1014, 85], [1007, 92]], [[1007, 92], [997, 84]], [[997, 84], [992, 88]], [[992, 88], [1000, 99]], [[1000, 99], [999, 102]], [[999, 102], [964, 93]], [[964, 93], [961, 83]], [[961, 83], [963, 69]], [[963, 69], [977, 54]], [[977, 54], [960, 54]], [[960, 54], [947, 72]], [[947, 72], [944, 94]], [[944, 94], [957, 110]], [[957, 110], [981, 120]], [[981, 120], [1021, 137]], [[1021, 137], [1043, 158]], [[1043, 158], [1091, 167]], [[1091, 167], [1082, 175]], [[1082, 175], [1100, 190]], [[1100, 190], [1110, 177]], [[1110, 177], [1098, 165]], [[1098, 165], [1131, 159]], [[1131, 159], [1156, 143]], [[1156, 143], [1207, 126]], [[1207, 126], [1231, 102]], [[1231, 102], [1240, 73]], [[1240, 73], [1231, 67]], [[1231, 67], [1223, 92]], [[1223, 92], [1197, 74]], [[1197, 74], [1204, 61]], [[1204, 61], [1198, 56]], [[1198, 56], [1193, 67]], [[1193, 67], [1184, 65]], [[1184, 65], [1164, 63]], [[1164, 63], [1152, 60]], [[1152, 60], [1104, 3]], 
		// blinds 3
		[[1587, 154], [1588, 186]], [[1588, 186], [1592, 193]], [[1592, 193], [1593, 220]], [[1593, 220], [1693, 219]], [[1693, 219], [1695, 255]], [[1695, 255], [1688, 266]], [[1688, 266], [1699, 276]], [[1699, 276], [1711, 267]], [[1711, 267], [1705, 256]], [[1705, 256], [1701, 215]], [[1701, 215], [1797, 213]], [[1797, 213], [1794, 186]], [[1794, 186], [1806, 178]], [[1806, 178], [1801, 148]], [[1801, 148], [1590, 150]], 
		// blinds 4
		[[1922, 148], [1920, 175]], [[1920, 175], [2024, 180]], [[2024, 180], [2029, 221]], [[2029, 221], [2022, 233]], [[2022, 233], [2033, 244]], [[2033, 244], [2045, 231]], [[2045, 231], [2034, 218]], [[2034, 218], [2036, 180]], [[2036, 180], [2126, 176]], [[2126, 176], [2124, 148]], [[2124, 148], [1924, 145]],
		// shelf
		[[2144, 295], [2152, 308]], [[2152, 308], [2461, 308]], [[2461, 308], [2463, 298]], [[2463, 298], [2146, 297]], 
		// clock
		[[2545, 47], [2522, 54]], [[2522, 54], [2504, 67]], [[2504, 67], [2497, 91]], [[2497, 91], [2500, 117]], [[2500, 117], [2514, 137]], [[2514, 137], [2541, 144]], [[2541, 144], [2571, 135]], [[2571, 135], [2589, 116]], [[2589, 116], [2592, 87]], [[2592, 87], [2580, 57]], [[2580, 57], [2556, 47]], [[2556, 47], [2543, 47]],
		// // cat stuff
		// [[1717, 498], [1716, 483]], [[1716, 483], [1768, 482]], [[1768, 482], [1753, 453]], [[1753, 453], [1789, 439]], [[1789, 439], [1840, 444]], [[1840, 444], [1847, 443]], [[1847, 443], [1844, 421]], [[1844, 421], [1851, 410]], [[1851, 410], [1914, 396]], [[1914, 396], [1969, 396]], [[1969, 396], [2015, 408]], [[2015, 408], [2017, 447]], [[2017, 447], [2007, 475]], [[2007, 475], [2068, 482]], [[2068, 482], [2073, 499]], 
		// fuzz under cat stuff
		[[1712, 499], [1718, 487]], [[1718, 487], [1820, 485]], [[1820, 485], [1845, 478]], [[1845, 478], [2013, 478]], [[2013, 478], [2069, 484]], [[2069, 484], [2076, 501]],
		// cupboard door
		[[2480, 503], [2480, 188]], [[2490, 188], [2802, 182]], [[2802, 182], [2803, 501]], 
        //Fruit in bowl
        [[969, 317], [958, 325]], [[958, 325], [952, 318]], [[952, 318], [961, 311]], [[961, 311], [954, 305]], [[954, 305], [958, 297]], [[958, 297], [969, 296]], [[969, 296], [974, 286]], [[974, 286], [984, 284]], [[984, 284], [997, 289]], [[997, 289], [1001, 289]], [[1001, 289], [989, 263]], [[989, 263], [997, 249]], [[997, 249], [1005, 259]], [[1005, 259], [1017, 280]], [[1017, 280], [1050, 290]], [[1050, 290], [1063, 275]], [[1063, 275], [1082, 271]], [[1082, 271], [1097, 277]], [[1097, 277], [1104, 286]], [[1104, 286], [1113, 287]], [[1113, 287], [1117, 293]], [[1117, 293], [1126, 293]], [[1126, 293], [1136, 301]],[[1082, 277], [1096, 264]],
		
        [[77, 160], [63, 172]], [[63, 172], [75, 196]], [[75, 196], [65, 204]], [[65, 204], [79, 214]], [[79, 214], [251, 207]], [[251, 207], [262, 199]], [[262, 199], [266, 172]], [[266, 172], [251, 161]], // blind reinforcement1
        [[408, 155], [398, 172]], [[398, 172], [398, 208]], [[398, 208], [412, 223]], [[412, 223], [578, 222]], [[578, 222], [593, 204]], [[593, 204], [597, 166]], [[597, 166], [575, 152]], // blind reinforcement2
    ];
		
		setup(linePoints, backgroundPath);
		stop();
	}, 0);

	//function to set the level in game object
	function setLevel()
	{
		game.level = 2;
		//need to make this realistic point (value of xoffset where hank hits the end of the level)
		game.levelEndPoint = -2760;
		game.levelEndY = 230;
	}
</script>

	 <!-- PRE LEVEL COMIC -->
    <!-- background -->
    <div class="comicBackdrop comic" id="comic"></div>
    <!-- comic -->
    <div class="comicDiv comic"><img class="comicImg" src="../Art/comics/comic2.png" alt="Hank has a dream of becoming a doctor."></div>
    <!-- instructions -->
    <!-- add event listener to set this all to hidden when the space bar is clicked -->
    <div class="comicInstructions comic">(click anywhere to continue)</div>
    <!-- <div class="comicInstructions comic">(press space to continue)</div> -->

    <!-- START OF SETTINGS -->    
    <!-- settings div - hidden until 'settings' is chosen -->

    <!-- pause and play buttons are at top of level screen instead of just home and settings -->
    <div id="pauseAndPlay" class="container">
        <button id="playBtn" class="pauseAndPlay settingsBtn level hidden" onclick="playGame()"><img class="pauseAndPlay settingsImg" src="../Art/play.png" alt="Play"></button>
        <button id="pauseBtn" class="pauseAndPlay settingsBtn level" onclick="pauseGame()"><img src="../Art/pause.png" class="pauseAndPlay settingsImg" alt="Pause"></button>
		<button class="pauseAndPlay settingsBtn level" onclick="toggleDiv('instructions', 'settings')"><img src="../Art/instructions.png" class="pauseAndPlay settingsImg" alt="instructions"></button>
       

        <!-- Home and settings buttons are hidden until pause is selected -->
        <!-- On level  -->
            <button class="pauseAndPlay settingsBtn level hiddenBtns hidden"  onClick="window.location.assign('../nonLevelPages/mainmenu.html')"><img src="../Art/homeBtn.png" alt="Home" class="settingsImg"></button>
            <button class="pauseAndPlay settingsBtn level hiddenBtns hidden"  onclick="toggleDiv('settings', 'instructions');"><img src="../Art/settingsBtn.png" alt="Settings" class="settingsImg"></button>

    </div>

    <!-- overlays screen when game is paused to dim it out -->
    <div id="pauseDiv" class="hidden"></div>

    <div id="settings" class="hidden">
        <div class="xButton" onclick="document.getElementById('settings').classList.add('hidden')">X</div>
        <div class="spacerDiv"></div>
        <div class="soundSetting">
            <div class="setSelection noBorder">Music</div> 
            <div class="setSelection hand" id="musicOn" onclick="toggleMusic('on', true); bold('music');">ON</div>
            <div class="setSelection hand" id="musicOff" onclick="toggleMusic('off', true); bold('music');">OFF</div>
        </div>
        <div class="soundSetting">
             <div class="setSelection noBorder">Sfx</div>
             <div class="setSelection hand" id="sfxOn" onclick="toggleSfx('on', true); bold('sfx');">ON</div>
             <div class="setSelection hand" id="sfxOff" onclick="toggleSfx('off', true); bold('sfx');">OFF</div>
        </div>
        <div class="colorSetting">
            <div class="setSelection noBorder">Color?</div>
            <!-- will eventually have small pictures of colors but may just comment this out if I don't get it working before competition -->
                <!-- it's mostly because I feel like there needs to be something else to fill the settings box -->
                <!-- Divs with X inside show up when selected to indicate current color -->
                <div class="setSelection colorSelection hand level" style="background-color:gray" onclick="setPlayerColor('grey'); bold('color')"> <div id="greyX" class="hidden selectX">X</div></div>  
                <div class="setSelection colorSelection hand level" style="background-color:blue" onclick="setPlayerColor('blue'); bold('color')" > <div id="blueX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:purple" onclick="setPlayerColor('purple'); bold('color')"> <div id="purpleX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:red" onclick="setPlayerColor('red'); bold('color')"> <div id="redX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:green" onclick="setPlayerColor('green'); bold('color')"> <div id="greenX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color:orange" onclick="setPlayerColor('orange'); bold('color')"> <div id="orangeX" class="hidden selectX">X</div></div>
                <div class="setSelection colorSelection hand level" style="background-color: hotpink" onclick="setPlayerColor('pink'); bold('color')"> <div id="pinkX" class="hidden selectX">X</div></div>
        </div>
    </div>

    <!-- END OF SETTINGS -->

	 <!-- INSTRUCTIONS DIV-->
     <div id="instructions" class="hidden">
        <div class="xButton" onclick="document.getElementById('instructions').classList.add('hidden')">X</div>
        <div class="mainInstructions"><h1>Maneuver around the obstacles to reach the yellow circle and help Hank leave the house.</h1></div>
        <div>
            <div class="sectionTitle" style="width:16%"><h1>Rolling</h1>
                <div class="instruction"> <div class="key">A</div><div class="key">D</div></div>
                <div class="instruction"><div class="key">←</div> <div class="key">→</div></div>

                <div class="header" style="width:110%; font-size:120%;"><p style="font-size:150%">Restart Level:</p>
                    <div class="instruction"> <div class="key">R</div></div>
                </div>
            </div>

            <div class="sectionTitle" style="width:65%; margin-bottom:0"><h1 style="width:40%; float:left; margin:0;">Using Lasso</h1>
                <div class="header" style="float:left"><p style="font-size:150%; margin:0; ">Aim with cursor.</p></div>
                <div class="header" style="width:30%;"><p style="font-size:150%">Add Force to Launch:</p>
                     <div class="instruction"><div class="key">W</div> <div class="key">S</div></div>
                    <div class="instruction"><div class="key">↑</div> <div class="key">↓</div></div>
                </div>

                <div class="header"><p style="font-size:150%">To Throw:</p>
                    <div class="instruction key notSquare">[Space]</div>
                </div>

                <div class="header"><p style="font-size:150%">To Pull In:</p>
                    <div class="instruction key notSquare">[Space]</div>
                </div>

                <div class="header"><p style="font-size:150%">To Clear:</p>
                    <div class="instruction key notSquare">[Backspace]</div>
                </div>
            </div>

    </div>

    <!-- END OF INSTRUCTIONS -->

</body>
</html>